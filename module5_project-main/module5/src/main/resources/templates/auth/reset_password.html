<!DOCTYPE html>
<html lang="vi" class="dark" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Đặt lại mật khẩu - CinemaGo</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700;900&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,0" rel="stylesheet"/>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#a413ec",
            "background-dark": "#1c1022",
          },
          fontFamily: {
            "display": ["Be Vietnam Pro", "sans-serif"]
          },
        },
      },
    }
  </script>

  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24
    }
  </style>
</head>

<body class="bg-background-dark font-display text-gray-200">
<div class="relative w-full min-h-screen flex flex-col">

  <!-- HEADER -->
  <header class="sticky top-0 z-50 flex items-center justify-between border-b border-white/10 px-4 sm:px-8 md:px-16 lg:px-24 xl:px-40 py-3 bg-background-dark/80 backdrop-blur-sm">
    <div class="flex items-center gap-4 text-white">
      <a href="/" class="flex items-center gap-4 hover:opacity-80 transition-opacity">
        <div class="size-6 text-primary">
          <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z" fill="currentColor"></path>
          </svg>
        </div>
        <h2 class="text-xl font-bold tracking-tight">CinemaGo</h2>
      </a>
    </div>

    <nav class="hidden md:flex items-center gap-9">
      <a class="text-white text-sm hover:text-primary transition-colors" href="#">Lịch chiếu</a>
      <a class="text-white text-sm hover:text-primary transition-colors" href="#">Rạp</a>
      <a class="text-white text-sm hover:text-primary transition-colors" href="#">Khuyến mãi</a>
    </nav>

    <a href="/login" class="min-w-[84px] h-10 px-4 flex items-center justify-center rounded-lg bg-primary text-sm font-bold hover:bg-primary/90 text-white transition-colors">
      Đăng nhập
    </a>
  </header>

  <!-- MAIN -->
  <main class="w-full flex-grow flex items-center justify-center px-4 sm:px-8 py-12 bg-[url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center relative">
    <div class="absolute inset-0 bg-background-dark/90"></div>

    <div class="w-full max-w-md mx-auto relative z-10">
      <div class="bg-[#2b1933]/90 backdrop-blur-md rounded-xl p-8 shadow-2xl border border-white/10">

        <!-- Title -->
        <div class="text-center">
          <h1 class="text-3xl font-black text-white tracking-tight">Đặt lại mật khẩu</h1>
          <p class="text-white/70 mt-2">Hãy tạo mật khẩu mới cho tài khoản của bạn.</p>
        </div>

        <!-- Error -->
        <div th:if="${error}" class="mt-4 p-3 bg-red-500/20 border border-red-500/40 rounded-lg text-red-300 text-sm text-center" th:text="${error}">
        </div>

        <!-- FORM -->
        <form th:action="@{/reset-password}" th:object="${resetPassword}" method="post" class="mt-8 space-y-6">
          <input type="hidden" th:field="*{token}"/>

          <!-- New password -->
          <div>
            <label class="text-sm font-medium text-white/80">Mật khẩu mới</label>
            <div class="relative mt-2">
              <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-white/40">lock</span>
              <input type="password"
                     th:field="*{newPassword}"
                     required
                     placeholder="Nhập mật khẩu mới"
                     class="w-full h-12 px-10 bg-[#1c1022] border border-white/10 rounded-lg text-white placeholder-white/40
                                   focus:ring-2 focus:ring-primary focus:border-primary transition-colors outline-none">
            </div>
          </div>

          <!-- Confirm new password -->
          <div>
            <label class="text-sm font-medium text-white/80">Nhập lại mật khẩu</label>
            <div class="relative mt-2">
              <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-white/40">lock</span>
              <input type="password"
                     th:field="*{confirmPassword}"
                     required
                     placeholder="Nhập lại mật khẩu mới"
                     class="w-full h-12 px-10 bg-[#1c1022] border border-white/10 rounded-lg text-white placeholder-white/40
                                   focus:ring-2 focus:ring-primary focus:border-primary transition-colors outline-none">
            </div>
          </div>

          <!-- Submit button -->
          <button type="submit"
                  class="w-full h-12 bg-primary text-white font-bold rounded-lg hover:bg-primary/90 transition-colors shadow-lg shadow-primary/25">
            Xác nhận
          </button>

          <!-- Back -->
          <a th:href="@{/login}"
             class="block w-full text-center h-11 bg-[#3c2348] text-white rounded-lg text-sm font-medium hover:bg-[#3c2348]/80 transition-colors">
            Quay lại đăng nhập
          </a>
        </form>

      </div>
    </div>
  </main>
</div>
</body>
</html>
